{"modules":[{"id":"93f5626d-82e2-4240-8e9f-f1087ad68bb4","type":"Disconnect","branches":[],"parameters":[],"metadata":{"position":{"x":2876,"y":180}}},{"id":"e1767558-5136-49d9-bf5f-11c32966c389","type":"PlayPrompt","branches":[{"condition":"Success","transition":"3f9a06ec-0426-4aca-85a4-d08180311a8e"}],"parameters":[{"name":"Text","value":"I was not able to find your vanity numbers due to technical problem. Please call us again later.","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":1806.462890625,"y":398.0566101074219},"useDynamic":false}},{"id":"111270cb-f84a-4106-ae3d-57f6d71e51c1","type":"Disconnect","branches":[],"parameters":[],"metadata":{"position":{"x":1103,"y":689}}},{"id":"fc5ec0f8-6799-4591-bd30-ce53fa8a40ee","type":"PlayPrompt","branches":[{"condition":"Success","transition":"111270cb-f84a-4106-ae3d-57f6d71e51c1"}],"parameters":[{"name":"Text","value":"Sorry, I was not able to look your number up due to a technical problem, please call us again later.","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":911,"y":335},"useDynamic":false}},{"id":"3f9a06ec-0426-4aca-85a4-d08180311a8e","type":"Disconnect","branches":[],"parameters":[],"metadata":{"position":{"x":2045,"y":647}}},{"id":"144b1b66-0423-42f8-8688-fd610e4af274","type":"InvokeExternalResource","branches":[{"condition":"Success","transition":"56764dc5-27f3-4a9c-901a-0ae6e8091ac8"},{"condition":"Error","transition":"e1767558-5136-49d9-bf5f-11c32966c389"}],"parameters":[{"name":"FunctionArn","value":"arn:aws:lambda:us-east-1:161696191487:function:invoke-vanity-converter","namespace":null},{"name":"TimeLimit","value":"8"},{"name":"Parameter","key":"phoneNumber","value":"Customer Number","namespace":"System"}],"metadata":{"position":{"x":1434,"y":255},"dynamicMetadata":{"phoneNumber":true},"useDynamic":false},"target":"Lambda"},{"id":"56764dc5-27f3-4a9c-901a-0ae6e8091ac8","type":"PlayPrompt","branches":[{"condition":"Success","transition":"3f9a06ec-0426-4aca-85a4-d08180311a8e"}],"parameters":[{"name":"Text","value":"As this is your first time calling, I will go ahead and generate your vanity numbers. Please call us back again in a few minutes to hear your vanity numbers. Thank you.","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":1658,"y":734},"useDynamic":false}},{"id":"9d656ead-b981-4905-9e79-203c34fb3cfa","type":"InvokeExternalResource","branches":[{"condition":"Success","transition":"231713dc-9907-4e25-8e64-b321a095beea"},{"condition":"Error","transition":"fc5ec0f8-6799-4591-bd30-ce53fa8a40ee"}],"parameters":[{"name":"FunctionArn","value":"arn:aws:lambda:us-east-1:161696191487:function:caller-lookup","namespace":null},{"name":"TimeLimit","value":"8"},{"name":"Parameter","key":"phoneNumber","value":"Customer Number","namespace":"System"}],"metadata":{"position":{"x":727,"y":89},"dynamicMetadata":{"phoneNumber":true},"useDynamic":false},"target":"Lambda"},{"id":"8975cee2-d32d-44b2-9e2a-4a582120cea1","type":"SetLoggingBehavior","branches":[{"condition":"Success","transition":"2206e799-d509-4715-a899-d8747c6275e1"}],"parameters":[{"name":"LoggingBehavior","value":"Enable"}],"metadata":{"position":{"x":189,"y":40}}},{"id":"2206e799-d509-4715-a899-d8747c6275e1","type":"PlayPrompt","branches":[{"condition":"Success","transition":"9d656ead-b981-4905-9e79-203c34fb3cfa"}],"parameters":[{"name":"Text","value":"Hello, thanks for calling the vanity number telephone service. Please wait while I look you up in our system.","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":446,"y":94},"useDynamic":false}},{"id":"231713dc-9907-4e25-8e64-b321a095beea","type":"CheckAttribute","branches":[{"condition":"Evaluate","conditionType":"Equals","conditionValue":"true","transition":"a962b1fa-aafb-49b1-b837-4ed0f4200e51"},{"condition":"NoMatch","transition":"144b1b66-0423-42f8-8688-fd610e4af274"}],"parameters":[{"name":"Attribute","value":"userHasCalledBefore"},{"name":"Namespace","value":"External"}],"metadata":{"position":{"x":1150,"y":62},"conditionMetadata":[{"operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"true","id":"edaf8032-7973-4975-b80e-2535e4ce0afc"}]}},{"id":"a962b1fa-aafb-49b1-b837-4ed0f4200e51","type":"PlayPrompt","branches":[{"condition":"Success","transition":"cf68329a-7e0c-4ec0-ad9b-a8c5248df65b"}],"parameters":[{"name":"Text","value":"I see you've called us before. Here are 3 vanity numbers for you.","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":1422,"y":72},"useDynamic":false}},{"id":"cf68329a-7e0c-4ec0-ad9b-a8c5248df65b","type":"PlayPrompt","branches":[{"condition":"Success","transition":"24e051c3-aed5-4a8c-a9e6-8ebfb7a948ac"}],"parameters":[{"name":"Text","value":"vanityNumber1","namespace":"External"},{"name":"TextToSpeechType","value":"ssml"}],"metadata":{"position":{"x":1737,"y":201},"useDynamic":true}},{"id":"6f381ffd-0d10-4b10-bd3b-66e655eedfed","type":"PlayPrompt","branches":[{"condition":"Success","transition":"93f5626d-82e2-4240-8e9f-f1087ad68bb4"}],"parameters":[{"name":"Text","value":"Have a great day!","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":2572,"y":166},"useDynamic":false}},{"id":"24e051c3-aed5-4a8c-a9e6-8ebfb7a948ac","type":"PlayPrompt","branches":[{"condition":"Success","transition":"f3cb2b12-e979-4f3f-99bb-662b12863379"}],"parameters":[{"name":"Text","value":"vanityNumber2","namespace":"External"},{"name":"TextToSpeechType","value":"ssml"}],"metadata":{"position":{"x":2034,"y":180},"useDynamic":true}},{"id":"f3cb2b12-e979-4f3f-99bb-662b12863379","type":"PlayPrompt","branches":[{"condition":"Success","transition":"6f381ffd-0d10-4b10-bd3b-66e655eedfed"}],"parameters":[{"name":"Text","value":"vanityNumber3","namespace":"External"},{"name":"TextToSpeechType","value":"ssml"}],"metadata":{"position":{"x":2314,"y":173},"useDynamic":true}}],"version":"1","start":"8975cee2-d32d-44b2-9e2a-4a582120cea1","metadata":{"entryPointPosition":{"x":15,"y":15},"snapToGrid":false,"name":"VanityGeneratorService","description":null,"type":"contactFlow","status":"published","hash":"c3ed5a87775bae87d585470ed9e852750c7af046db6be313be2abf2e7f0a2518"},"type":"contactFlow"}